
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>NFL Arrests vs Team Wins</title>

    <script type='text/javascript' src='//code.jquery.com/jquery-1.9.1.js'></script>
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script>
    <script src="http://cdn.ucb.org.br/Scripts/tablesorter/jquery.tablesorter.min.js"></script>

    <script type='text/javascript'>//<![CDATA[

$(document).ready(function() 
    { 
        $("#table-sparkline").tablesorter(); 
    } 
); 
   

$(function () {
    /**
     * Create a constructor for sparklines that takes some sensible defaults and merges in the individual
     * chart options. This function is also available from the jQuery plugin as $(element).highcharts('SparkLine').
     */
    Highcharts.SparkLine = function (options, callback) {
        var defaultOptions = {
            chart: {
                renderTo: (options.chart && options.chart.renderTo) || this,
                backgroundColor: null,
                borderWidth: 0,
                type: 'area',
                margin: [2, 0, 2, 0],
                width: 120,
                height: 30,
                style: {
                    overflow: 'visible'
                },
                skipClone: true
            },
            title: {
                text: ''
            },
            credits: {
                enabled: false
            },
            xAxis: {
                labels: {
                    enabled: false
                },
                title: {
                    text: null
                },
                startOnTick: false,
                endOnTick: false,
                tickPositions: []
            },
            yAxis: {
                endOnTick: false,
                startOnTick: false,
                labels: {
                    enabled: false
                },
                title: {
                    text: null
                },
                tickPositions: [0]
            },
            legend: {
                enabled: false
            },
            tooltip: {
                backgroundColor: null,
                borderWidth: 0,
                shadow: false,
                useHTML: true,
                hideDelay: 0,
                shared: true,
                padding: 0,
                positioner: function (w, h, point) {
                    return { x: point.plotX - w / 2, y: point.plotY - h};
                }
            },
            plotOptions: {
                series: {
                    pointStart: 5,
                    animation: false,
                    lineWidth: 1,
                    shadow: false,
                    states: {
                        hover: {
                            lineWidth: 1
                        }
                    },
                    marker: {
                        radius: 1,
                        states: {
                            hover: {
                                radius: 2
                            }
                        }
                    },
                    fillOpacity: 0.25
                }
            }
        };
        options = Highcharts.merge(defaultOptions, options);

        return new Highcharts.Chart(options, callback);
    };

    var start = +new Date(),
        $tds = $("td[data-sparkline]"),
        fullLen = $tds.length,
        n = 0;

    // Creating 153 sparkline charts is quite fast in modern browsers, but IE8 and mobile
    // can take some seconds, so we split the input into chunks and apply them in timeouts
    // in order avoid locking up the browser process and allow interaction.
    function doChunk() {
        var time = +new Date(),
            i,
            len = $tds.length,
            $td,
            stringdata,
            arr,
            data,
            chart;

        for (i = 0; i < len; i += 1) {
            $td = $($tds[i]);
            stringdata = $td.data('sparkline');
            arr = stringdata.split('; ');
            data = $.map(arr[0].split(', '), parseFloat);
            chart = {};

            if (arr[1]) {
                chart.type = arr[1];
            }
            if (i % 2 == 0) {
                $td.highcharts('SparkLine', {
                    yAxis: {
                        max: 7
                    },
                    series: [{
                        data: data,
                        pointStart: 2010
                    }],
                    tooltip: {
                        headerFormat: '<span style="font-size: 10px">In {point.x}</span><br/>',
                        pointFormat: '<b>{point.y}</b> Arrests'
                    },
                    chart: chart
                });
            } else {
                $td.highcharts('SparkLine', {
                    yAxis: {
                        max: 16
                    },
                    series: [{
                        data: data,
                        pointStart: 2010
                    }],
                    tooltip: {
                        headerFormat: '<span style="font-size: 10px">{point.x} Season</span><br/>',
                        pointFormat: '<b>{point.y}</b> Wins'
                    },
                    chart: chart
                });
            }

            n += 1;

            // If the process takes too much time, run a timeout to allow interaction with the browser
            if (new Date() - time > 500) {
                $tds.splice(0, i + 1);
                setTimeout(doChunk, 0);
                break;
            }
        }
    }
    doChunk();

});

$(function () {
    $('#all-arrests').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        legend: {
            align: 'right',
            layout: 'vertical',
            verticalAlign: 'top',
            y: 50
        },
        title: {
            text: 'Wins vs Arrests of NFL Teams (Last 5 Seasons)'
        },
        subtitle: {
            text: 'Source: USA Today NFL Arrest Database'
        },
        xAxis: {
            allowDecimals: false,
            min: 0,
            max: 20,
            title: {
                enabled: true,
                text: 'Arrests'
            },
            startOnTick: true,
            endOnTick: true,
            showLastLabel: true
        },
        yAxis: {
            min: 20,
            max: 70,
            allowDecimals: false,
            title: {
                text: 'Wins'
            }
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 5,
                    states: {
                        hover: {
                            enabled: true,
                            lineColor: 'rgb(100,100,100)'
                        }
                    }
                },
                states: {
                    hover: {
                        marker: {
                            enabled: false
                        }
                    }
                },
                tooltip: {
                    headerFormat: '<b>{point.key}</b><br>',
                    pointFormat: '{point.x} arrests, {point.y} wins'
                }
            }
        },
        series: [{
            name: 'NFC West',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'circle'
            },
            data: [
                {x: 6.2, y: 39, name: 'Arizona Cardinals'},
                {x: 10.8, y: 50, name: 'Seattle Seahawks'},
                {x: 11.2, y: 50, name: 'San Fransico 49ers'},
                {x: 6, y: 29, name: 'Saint Louis Rams'}
            ]
        }, {
            name: 'NFC North',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'triangle'
            },
            data: [
                {x: 9, y: 42, name: 'Chicago Bears'},
                {x: 10, y: 38, name: 'Detroit Lions'},
                {x: 6, y: 56, name: 'Green Bay Packers'},
                {x: 18, y: 31, name: 'Minnesota Vikings'}
            ]
        }, {
            name: 'NFC East',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'square'
            },
            data: [
                {x: 7, y: 42, name: 'Dallas Cowboys'},
                {x: 3, y: 41, name: 'New York Giants'},
                {x: 6, y: 42, name: 'Philadelphia Eagles'},
                {x: 11, y: 28, name: 'Washington Redskins'}
            ]
        }, {
            name: 'NFC South',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'triangle-down'
            },
            data: [
                {x: 6, y: 46, name: "Atlanta Falcons"},
                {x: 3, y: 34, name: 'Carolina Panthers'},
                {x: 3, y: 49, name: 'New Orleans Saints'},
                {x: 15, y: 27, name: 'Tampa Bay Buccaneers'}
            ]
        }, {
            name: 'AFC West',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'circle'
            },
            data: [
                {x: 17, y: 50, name: 'Denver Broncos'},
                {x: 5.8, y: 39, name: 'Kansas City Chiefs'},
                {x: 9, y: 27, name: 'Oakland Raiders'},
                {x: 5, y: 42, name: 'San Diego Chargers'}
            ]
        }, {
            name: 'AFC North',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'triangle'
            },
            data: [
                {x: 7, y: 52, name: 'Baltimore Ravens'},
                {x: 13, y: 44, name: 'Cinncinati Bengals'},
                {x: 11, y: 25, name: 'Cleveland Browns'},
                {x: 5, y: 49, name: 'Pittsburgh Steelers'}
            ]
        }, {
            name: 'AFC East',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'square'
            },
            data: [
                {x: 5, y: 31, name: 'Buffalo Bills'},
                {x: 8, y: 36, name: 'Miami Dolphins'},
                {x: 4, y: 63, name: 'New England Patriots'},
                {x: 9, y: 37, name: 'New York Jets'}
            ]
        }, {
            name: 'AFC South',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'triangle-down'
            },
            data: [
                {x: 0, y: 39, name: 'Houston Texans'},
                {x: 11, y: 45, name: 'Indianapolis Colts'},
                {x: 6, y: 22, name: 'Jacksonville Jaguars'},
                {x: 13, y: 30, name: 'Tennessee Titans'}
            ]
        }]
    });
    $('#arrested-players').highcharts({
        chart: {
            type: 'scatter',
            zoomType: 'xy'
        },
        title: {
            text: 'Wins vs Arrested Players of NFL Teams (Last 5 Seasons)'
        },
        subtitle: {
            text: 'Source: USA Today NFL Arrest Database'
        },
        legend: {
            align: 'right',
            layout: 'vertical',
            verticalAlign: 'top',
            y: 50
        },
        xAxis: {
            allowDecimals: false,
            min: 0,
            max: 20,
            title: {
                enabled: true,
                text: 'Arrested Players'
            },
            startOnTick: true,
            endOnTick: true,
            showLastLabel: true
        },
        yAxis: {
            min: 20,
            max: 70,
            allowDecimals: false,
            title: {
                text: 'Wins'
            }
        },
        plotOptions: {
            scatter: {
                marker: {
                    radius: 5,
                    states: {
                        hover: {
                            enabled: true,
                            lineColor: 'rgb(100,100,100)'
                        }
                    }
                },
                states: {
                    hover: {
                        marker: {
                            enabled: false
                        }
                    }
                },
                tooltip: {
                    headerFormat: '<b>{point.key}</b><br>',
                    pointFormat: '{point.x} arrests, {point.y} wins'
                }
            }
        },
        series: [{
            name: 'NFC West',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'circle'
            },
            data: [
                {x: 6.2, y: 39, name: 'Arizona Cardinals'},
                {x: 8, y: 50, name: 'Seattle Seahawks'},
                {x: 6, y: 50, name: 'San Fransico 49ers'},
                {x: 6, y: 29, name: 'Saint Louis Rams'}
            ]
        }, {
            name: 'NFC North',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'triangle'
            },
            data: [
                {x: 8, y: 42, name: 'Chicago Bears'},
                {x: 7, y: 38, name: 'Detroit Lions'},
                {x: 4, y: 56, name: 'Green Bay Packers'},
                {x: 13, y: 31, name: 'Minnesota Vikings'}
            ]
        }, {
            name: 'NFC East',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'square'
            },
            data: [
                {x: 7, y: 42, name: 'Dallas Cowboys'},
                {x: 3, y: 41, name: 'New York Giants'},
                {x: 6, y: 42, name: 'Philadelphia Eagles'},
                {x: 7, y: 28, name: 'Washington Redskins'}
            ]
        }, {
            name: 'NFC South',
            type: 'scatter',
            color: '#003B67',
            marker: {
                symbol: 'triangle-down'
            },
            data: [
                {x: 5, y: 46, name: "Atlanta Falcons"},
                {x: 3, y: 34, name: 'Carolina Panthers'},
                {x: 3, y: 49, name: 'New Orleans Saints'},
                {x: 13, y: 27, name: 'Tampa Bay Buccaneers'}
            ]
        }, {
            name: 'AFC West',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'circle'
            },
            data: [
                {x: 15, y: 50, name: 'Denver Broncos'},
                {x: 5.8, y: 39, name: 'Kansas City Chiefs'},
                {x: 8, y: 27, name: 'Oakland Raiders'},
                {x: 5, y: 42, name: 'San Diego Chargers'}
            ]
        }, {
            name: 'AFC North',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'triangle'
            },
            data: [
                {x: 7, y: 52, name: 'Baltimore Ravens'},
                {x: 9, y: 44, name: 'Cinncinati Bengals'},
                {x: 11, y: 25, name: 'Cleveland Browns'},
                {x: 5, y: 49, name: 'Pittsburgh Steelers'}
            ]
        }, {
            name: 'AFC East',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'square'
            },
            data: [
                {x: 4, y: 31, name: 'Buffalo Bills'},
                {x: 8, y: 36, name: 'Miami Dolphins'},
                {x: 4, y: 63, name: 'New England Patriots'},
                {x: 9, y: 37, name: 'New York Jets'}
            ]
        }, {
            name: 'AFC South',
            type: 'scatter',
            color: '#D0202B',
            marker: {
                symbol: 'triangle-down'
            },
            data: [
                {x: 0, y: 39, name: 'Houston Texans'},
                {x: 11, y: 45, name: 'Indianapolis Colts'},
                {x: 5, y: 22, name: 'Jacksonville Jaguars'},
                {x: 8, y: 30, name: 'Tennessee Titans'}
            ]
        }]
    });
});

//]]> 

    </script>
  </head>
  <body>
    <p>Here's the data in a table format. All columns except the graphs are sortable by clicking the header.</p>
    <table id="table-sparkline" class="tablesorter">
      <thead>
        <tr>
            <th>NFL Team</th>
            <th>Arrests</th>
            <th>Players</th>
            <th>By Year</th>
            <th>Wins</th>
            <th>By Year</th>
        </tr>
      </thead>
      <tbody id="tbody-sparkline">
        <tr>
            <th>Arizona Cardinals</th>
            <td>6</td>
            <td>6</td>
            <td data-sparkline="1, 0, 0, 3, 2 "/>
            <td>39</td>
            <td data-sparkline="5, 8, 5, 10, 11 "/>
        </tr>
        <tr>
            <th>Atlanta Falcons</th>
            <td>6</td>
            <td>5</td>
            <td data-sparkline="0, 1, 2, 2, 1 "/>
            <td>46</td>
            <td data-sparkline="13, 10, 13, 4, 6 "/>
        </tr>
        <tr>
            <th>Baltimore Ravens</th>
            <td>7</td>
            <td>7</td>
            <td data-sparkline="1, 0, 0, 1, 5 "/>
            <td>52</td>
            <td data-sparkline="12, 12, 10, 8, 10 "/>
        </tr>
        <tr>
            <th>Buffalo Bills</th>
            <td>5</td>
            <td>4</td>
            <td data-sparkline="0, 1, 0, 1, 3 "/>
            <td>31</td>
            <td data-sparkline="4, 6, 6, 6, 9 "/>
        </tr>
        <tr>
            <th>Carolina Panthers</th>
            <td>3</td>
            <td>3</td>
            <td data-sparkline="1, 1, 0, 0, 1 "/>
            <td>34</td>
            <td data-sparkline="2, 6, 7, 12, 7 "/>
        </tr>
        <tr>
            <th>Chicago Bears</th>
            <td>9</td>
            <td>8</td>
            <td data-sparkline="0, 2, 1, 4, 2 "/>
            <td>42</td>
            <td data-sparkline="11, 8, 10, 8, 5 "/>
        </tr>
        <tr>
            <th>Cincinnati Bengals</th>
            <td>13</td>
            <td>9</td>
            <td data-sparkline="3, 3, 2, 4, 1 "/>
            <td>44</td>
            <td data-sparkline="4, 9, 10, 11, 10 "/>
        </tr>
        <tr>
            <th>Cleveland Browns</th>
            <td>11</td>
            <td>11</td>
            <td data-sparkline="4, 0, 1, 4, 2 "/>
            <td>25</td>
            <td data-sparkline="5, 4, 5, 4, 7 "/>
        </tr>
        <tr>
            <th>Dallas Cowboys</th>
            <td>7</td>
            <td>7</td>
            <td data-sparkline="1, 2, 2, 1, 1 "/>
            <td>42</td>
            <td data-sparkline="6, 8, 8, 8, 12 "/>
        </tr>
        <tr>
            <th>Denver Broncos</th>
            <td>17</td>
            <td>15</td>
            <td data-sparkline="5, 3, 2, 5, 2 "/>
            <td>50</td>
            <td data-sparkline="4, 8, 13, 13, 12 "/>
        </tr>
        <tr>
            <th>Detroit Lions</th>
            <td>10</td>
            <td>7</td>
            <td data-sparkline="0, 1, 2, 7, 0 "/>
            <td>38</td>
            <td data-sparkline="6, 10, 4, 7, 11 "/>
        </tr>
        <tr>
            <th>Green Bay Packers</th>
            <td>6</td>
            <td>4</td>
            <td data-sparkline="2, 4, 0, 0, 0 "/>
            <td>56</td>
            <td data-sparkline="10, 15, 11, 8, 12 "/>
        </tr>
        <tr>
            <th>Houston Texans</th>
            <td>0</td>
            <td>0</td>
            <td data-sparkline="0, 0, 0, 0, 0 "/>
            <td>39</td>
            <td data-sparkline="6, 10, 12, 2, 9 "/>
        </tr>
        <tr>
            <th>Indianapolis Colts</th>
            <td>11</td>
            <td>11</td>
            <td data-sparkline="4, 2, 0, 3, 2 "/>
            <td>45</td>
            <td data-sparkline="10, 2, 11, 11, 11 "/>
        </tr>
        <tr>
            <th>Jacksonville Jaguars</th>
            <td>6</td>
            <td>5</td>
            <td data-sparkline="0, 0, 3, 0, 3 "/>
            <td>22</td>
            <td data-sparkline="8, 5, 2, 4, 3 "/>
        </tr>
        <tr>
            <th>Kansas City Chiefs</th>
            <td>6</td>
            <td>6</td>
            <td data-sparkline="1, 1, 2, 1, 1 "/>
            <td>39</td>
            <td data-sparkline="10, 7, 2, 11, 9 "/>
        </tr>
        <tr>
            <th>Miami Dolphins</th>
            <td>8</td>
            <td>8</td>
            <td data-sparkline="4, 0, 3, 0, 1 "/>
            <td>36</td>
            <td data-sparkline="7, 6, 7, 8, 8 "/>
        </tr>
        <tr>
            <th>Minnesota Vikings</th>
            <td>18</td>
            <td>13</td>
            <td data-sparkline="0, 7, 3, 3, 5 "/>
            <td>31</td>
            <td data-sparkline="6, 3, 10, 5, 7 "/>
        </tr>
        <tr>
            <th>New England Patriots</th>
            <td>4</td>
            <td>4</td>
            <td data-sparkline="1, 1, 0, 2, 0 "/>
            <td>63</td>
            <td data-sparkline="14, 13, 12, 12, 12 "/>
        </tr>
        <tr>
            <th>New Orleans Saints</th>
            <td>3</td>
            <td>3</td>
            <td data-sparkline="2, 0, 0, 1, 0 "/>
            <td>49</td>
            <td data-sparkline="11, 13, 7, 11, 7 "/>
        </tr>
        <tr>
            <th>New York Giants</th>
            <td>3</td>
            <td>3</td>
            <td data-sparkline="0, 0, 1, 2, 0 "/>
            <td>41</td>
            <td data-sparkline="10, 9, 9, 7, 6 "/>
        </tr>
        <tr>
            <th>New York Jets</th>
            <td>9</td>
            <td>9</td>
            <td data-sparkline="1, 0, 1, 5, 2 "/>
            <td>37</td>
            <td data-sparkline="11, 8, 6, 8, 4 "/>
        </tr>
        <tr>
            <th>Oakland Raiders</th>
            <td>9</td>
            <td>8</td>
            <td data-sparkline="0, 4, 1, 3, 1 "/>
            <td>27</td>
            <td data-sparkline="8, 8, 4, 4, 3 "/>
        </tr>
        <tr>
            <th>Philadelphia Eagles</th>
            <td>6</td>
            <td>5</td>
            <td data-sparkline="0, 3, 1, 1, 1 "/>
            <td>42</td>
            <td data-sparkline="10, 8, 4, 10, 10 "/>
        </tr>
        <tr>
            <th>Pittsburgh Steelers</th>
            <td>5</td>
            <td>5</td>
            <td data-sparkline="0, 1, 1, 1, 2 "/>
            <td>49</td>
            <td data-sparkline="12, 12, 8, 8, 11 "/>
        </tr>
        <tr>
            <th>San Diego Chargers</th>
            <td>5</td>
            <td>5</td>
            <td data-sparkline="2, 2, 0, 1, 0 "/>
            <td>42</td>
            <td data-sparkline="9, 8, 7, 9, 9 "/>
        </tr>
        <tr>
            <th>Seattle Seahawks</th>
            <td>11</td>
            <td>8</td>
            <td data-sparkline="3, 1, 4, 2, 1 "/>
            <td>50</td>
            <td data-sparkline="7, 7, 11, 13, 12 "/>
        </tr>
        <tr>
            <th>San Francisco 49ers</th>
            <td>11</td>
            <td>6</td>
            <td data-sparkline="1, 0, 3, 3, 4 "/>
            <td>50</td>
            <td data-sparkline="6, 13, 11, 12, 8 "/>
        </tr>
        <tr>
            <th>Saint Louis Rams</th>
            <td>6</td>
            <td>6</td>
            <td data-sparkline="1, 0, 2, 1, 2 "/>
            <td>29</td>
            <td data-sparkline="7, 2, 7, 7, 6 "/>
        </tr>
        <tr>
            <th>Tampa Bay Buccaneers</th>
            <td>15</td>
            <td>13</td>
            <td data-sparkline="5, 2, 2, 4, 2 "/>
            <td>27</td>
            <td data-sparkline="10, 4, 7, 4, 2 "/>
        </tr>
        <tr>
            <th>Tennessee Titans</th>
            <td>13</td>
            <td>8</td>
            <td data-sparkline="5, 4, 1, 1, 2 "/>
            <td>30</td>
            <td data-sparkline="6, 9, 6, 7, 2 "/>
        </tr>
        <tr>
            <th>Washington Redskins</th>
            <td>11</td>
            <td>7</td>
            <td data-sparkline="6, 2, 1, 0, 2 "/>
            <td>28</td>
            <td data-sparkline="6, 5, 10, 3, 4 "/>
        </tr>
      </tbody>
    </table>
    <p>When graphed as a scatter plot (the decimal arrest values are just to add some separate between duplicate data points), a negative correlation between arrests and wins begins to appear:</p>
    <div id="all-arrests" style="min-width: 310px; height: 400px; max-width: 800px; margin: 0 auto"></div>
    <p>The correlation is stronger when multiple arrests are thrown out:</p>
    <div id="arrested-players" style="min-width: 310px; height: 400px; max-width: 800px; margin: 0 auto"></div>
  </body>
</html>

